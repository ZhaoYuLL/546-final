<form action="/fitposts" method="POST" enctype="multipart/form-data">
	<input type="file" name="image" accept="image/*" />
	<input type="text" name="caption" placeholder="Caption" />
	<button type="submit">Submit</button>
</form>

{{#each posts}}
	<div class="post">
		<img
			src="{{this.imageUrl}}"
			width="200px;"
			height="200px"
			alt="Fitpost Image"
		/>
		<p>{{this.caption}}</p>
		<form action="/fitposts/{{this.imageName}}" method="DELETE">
			<input type="hidden" name="_method" value="DELETE" />
			<button type="submit" class="delete-button">Delete</button>
		</form>
	</div>
{{/each}}

{{! <script>
	const deleteForms = document.querySelectorAll('form[action^="/fitposts/"]');
	deleteForms.forEach(form => { form.addEventListener('submit', async (event)
	=> { event.preventDefault(); const postId = form.action.split('/').pop();
	try { const response = await fetch(form.action, { method: 'POST', headers: {
	'Content-Type': 'application/x-www-form-urlencoded' }, body: new
	URLSearchParams(new FormData(form)).toString() }); if (response.ok) { //
	Remove the post from the DOM const postElement = form.closest('.post');
	postElement.remove(); } else { console.error('Error deleting post:',
	response.statusText); } } catch (error) { console.error('Error deleting
	post:', error); } }); });
</script> }}